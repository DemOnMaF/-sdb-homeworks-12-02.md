# Домашнее задание к занятию `«Микросервисы: принципы»` - `Васильев Николай`

Вы работаете в крупной компании, которая строит систему на основе микросервисной архитектуры.
Вам как DevOps-специалисту необходимо выдвинуть предложение по организации инфраструктуры для разработки и эксплуатации.

## Задача 1: API Gateway 

Предложите решение для обеспечения реализации API Gateway. Составьте сравнительную таблицу возможностей различных программных решений. На основе таблицы сделайте выбор решения.

Решение должно соответствовать следующим требованиям:
- маршрутизация запросов к нужному сервису на основе конфигурации,
- возможность проверки аутентификационной информации в запросах,
- обеспечение терминации HTTPS.

Обоснуйте свой выбор.

| Программные решения  | Маршрутизация запросов к нужному сервису на основе конфигурации | Возможность проверки аутентификационной информации в запросах | Обеспечение терминации HTTPS | Open source |
|:---------------------|:---------------------------------------------------------------:|:-------------------------------------------------------------:|:----------------------------:|:-----------:|
| Spring Cloud Gateway |                                +                                |                               +                               |              +               |      +      |
| Azure API Management |                                +                                |                               +                               |              +               |      -      |
| Yandex API Gateway   |                                +                                |                               +                               |              +               |      +      |
| Kong API Gateway     |                                +                                |                               +                               |              +               |      +      |
| Tyk                  |                                +                                |                               +                               |              +               |      +      |
| Nginx                |                                +                                |                               +                               |              +               |      +      |

> Думаю, все решения подходят т.к. соответствуют требованиям, но я предложил бы Yandex API Gateway или Nginx.
> 
> Yandex API Gateway - Решение open source, довольно подробная документация;
> 
> Nginx - Open source, большая документация, популярное решение:
>
## Задача 2: Брокер сообщений

Составьте таблицу возможностей различных брокеров сообщений. На основе таблицы сделайте обоснованный выбор решения.

Решение должно соответствовать следующим требованиям:
- поддержка кластеризации для обеспечения надёжности,
- хранение сообщений на диске в процессе доставки,
- высокая скорость работы,
- поддержка различных форматов сообщений,
- разделение прав доступа к различным потокам сообщений,
- простота эксплуатации.

Обоснуйте свой выбор.

| Решение         | Поддержка кластеризации для обеспечения надёжности | Хранение сообщений на диске в процессе доставки | Высокая скорость работы | Поддержка различных форматов сообщений | Разделение прав доступа к различным потокам сообщений | Простота эксплуатации |
|-----------------|:--------------------------------------------------:|:-----------------------------------------------:|:-----------------------:|:--------------------------------------:|:-----------------------------------------------------:|:---------------------:|
| Apache Kafka    |                         +                          |                        +                        |            +            |                   +                    |                           +                           |           -           |
| RabbitMQ        |                         +                          |                        +                        |            +            |                   +                    |                           +                           |           +           |
| Apache ActiveMQ |                         +                          |                        +                        |            +            |                   +                    |                           +                           |           +           |
| NATS            |                         +                          |                        +                        |            +            |                   +                    |                           +                           |           +           |
> RabbitMQ - можно настроить по-разному, и он хорошо работает с другими программами. Но чтобы им пользоваться, нужно потратить время на настройку и управление.
> Apache Kafka - работает быстро и надёжно, чтобы не потерять данные, если что-то пойдёт не так.